<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Puzzle Game</title>
    <style>
        img {
            width: 25%;
            height: auto;
            display: flex;
            flex-direction: column ;
        }
    </style>
</head>

<body>
<h1 id="result"></h1>
        <img id="img1" src="" alt="" />
        <img id="img2" src="" alt="" />
        <img id="img3" src="" alt="" />
        <img id="img4" src="" alt="" />
        <img id="img5" src="" alt="" />

<script>
    let Images = {
        imgsDB:
            [
                ["img11.png",
                    "img12.png",
                    "img13.png",
                    "img14.png",
                    "img15.png"],
                ["img21.png",
                    "img22.png",
                    "img23.png",
                    "img24.png",
                    "img25.png"],
                ["img31.png",
                    "img32.png",
                    "img33.png",
                    "img34.png",
                    "img35.png"]
            ],
        imgpos: [0, 0, 0, 0, 0]

    }

    function placeImage(imgpos1, imgChange) {
        Images.imgpos[imgpos1 - 1] = imgChange;
        let imageName = "img" + imgpos1.toString();
        document.getElementById(imageName).src = "./img/" + Images.imgsDB[imgChange][imgpos1 - 1];

    }

    function setImagesRandom() {
        for (let i=1; i <= 5; i++)
        {
            let num1 = Math.floor ((Math.random() * 3));
            placeImage(i, num1);
        }
    }

    function imageClick(imgpos1) {
        let imgChange = Images.imgpos[imgpos1 - 1];
        if (imgChange === 0) {
            placeImage(imgpos1, 1);
        }
        else if (imgChange === 1) {
            placeImage(imgpos1, 2);
        }
        else if (imgChange === 2) {
            placeImage(imgpos1, 0);
        }

    }

    function checkSet() {
        let setFlag = true;
        for (let i=1; i < 5; i++) {
            if (Images.imgpos[i] !== Images.imgpos[i - 1]) {
                setFlag = false;
            }
        }
        if (setFlag) {
            document.getElementById("result").innerHTML="Bạn đã hoàn thành trò chơi";
        }
    }
        setImagesRandom();
        let img1 = document.getElementById("img1");
        img1.addEventListener("click", function(){
            imageClick(1);
            checkSet();
        });

        let img2 = document.getElementById("img2");
        img2.addEventListener("click", function(){
            imageClick(2);
            checkSet();
        });

        let img3 = document.getElementById("img3");
        img3.addEventListener("click", function(){
            imageClick(3);
            checkSet();
        });

        let img4 = document.getElementById("img4");
        img4.addEventListener("click", function(){
            imageClick(4);
            checkSet();
        });

        let img5 = document.getElementById("img5");
        img5.addEventListener("click", function(){
            imageClick(5);
            checkSet();
        });
</script>